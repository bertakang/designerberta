<template>
  <section id="intro">
    <div class="intro-text">
      <span class="project-subtitle">Mobile App Development Showcase</span>
      <div class="project-title">
        <div>
          <span class="title">PANYAVON</span>
          <p>
            This project showcases a portfolio piece for the nearly complete
            Khmer/English language learning app. All digital paintings,
            animations, typography, and user experience designs were created by
            me, Berta Kang. The app is being developed using Flutter, Isar for
            local storage, and LottieFiles for lightweight animations, combining
            these technologies to deliver an engaging and efficient learning
            experience.
          </p>
        </div>
      </div>
    </div>
    <div class="intro-visual">
      <iframe width="300" height="614" src="https://www.youtube.com/embed/gavIDAm5PII"
        title="Seoulmate - Low-Fidelity Prototype" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen></iframe>
    </div>
  </section>
  <section id="goal">
    <div class="goal-wrapper">
      <div class="description-wrapper">
        <div class="description">
          <h2>Project Brief</h2>
          <p>
            The objective of this app is to provide a user-friendly language
            learning platform for English-speaking Cambodian (Khmer) and
            Cambodian-speaking English language learners. The app provides a
            simple and efficient way for users to learn and practice both
            languages, featuring interactive lessons, quizzes, and
            vocabulary-building tools. Thoroughly researched during my time
            living in Cambodia, it is specifically designed to address the
            challenges of offering language literacy to a targeted Cambodian
            audience with limited formal education. As a result, the app will be
            free to use, fully functional offline, and include a wealth of audio
            content to enhance the learning experience for users of all levels.
          </p>
        </div>

        <div class="card-wrapper">
          <!-- <div class="card">
            <h2>Design Tasks</h2>
            <ul>
              <li>
                Conducted extensive UX research in Cambodia to understand user
                perspectives, common challenges, and infrastructural
                limitations, ensuring the app's design aligns with the needs of
                local learners.
              </li>
              <li>
                Researched existing English-as-a-second-language learning
                educational tools on the market, analyzing their strengths,
                weaknesses, and user feedback to inform innovative and
                competitive feature development.
              </li>
              <li>
                Designed and prototyped intuitive user interfaces in Figma for
                key app sections, including study, games, progress, collection
                market, and user settings pages, incorporating insights from
                field research to ensure alignment with user needs and
                expectations.
              </li>
              <li>
                Ensured visual harmony by developing the appâ€™s branding through
                careful selection of a color palette, English and Cambodian
                typography, establishing a unified design system, and applying
                culturally relevant touch ups such as the addition of
                traditional Cambodian ornamentation design called 'kbach'.
              </li>
            </ul>
          </div> -->
          <h2>Engineering Solutions</h2>
          <div class="cards-grid">
            <li class="card">
              <h2>Cross-Platform Front-End App Development</h2>
              Built the app using Flutter for its cross-platform capabilities,
              ensuring compatibility with both iOS and Android.
            </li>
            <li class="card">
              <h2>Offline Local Database Back-End Development</h2>
              Implemented Isar, a high-performance local database, for efficient
              and offline-friendly data storage.
            </li>
            <li class="card">
              <h2>LottieFile Integration</h2>
              CreatedLottieFiles to deliver lightweight, high-quality animations
              that enhance the user experience without significant performance
              overhead.
            </li>
            <li class="card">
              <h2>Study Materials</h2>
              Designed and implemented interactive phonics exercises,
              interactive vocabulary practice flashcards, and guided grammar
              lessons to support effective language learning.
            </li>
            <li class="card">
              <h2>Interactive Game Development</h2>
              Designed and implemented a typing game, quiz game, and flashcard
              speaking game with interactive functionality and real-time
              feedback.
            </li>
            <li class="card">
              <h2>User Scoring and Progress Tracking System</h2>
              Developed a scoring and ranking system based on user performance,
              incorporating competitive tiers (e.g., Native Speaker, Advanced,
              Beginner).
            </li>
            <li class="card">
              <h2>In-App Marketplace and Item Crafting</h2>

              Implemented a fun in-game market that allows users to purchase and
              craft customizable items to enhance their Cambodian cultural
              learning experience and personalize their journey.
            </li>
            <li class="card">
              <h2>User Configuration</h2>
              Developed flexible user configuration settings, enabling
              personalized experiences such as adjusting app skin preferences,
              app reset, and tailoring features to individual learning goals.
            </li>
          </div>

          <!-- <div class="card">
            <h2>Art and Asset Creation Tasks</h2>
            <ul>
              <li>
                Designed, sketched, colored, and digitized all illustrations and
                animated assets for the app, ensuring cultural relevance and
                visual appeal.
              </li>

              <li>
                Curated typographic designs suited for Khmer and English
                learners, ensuring an optimal balance of readability and visual
                harmony.
              </li>

              <li>
                Developed custom animations for transitions, games, and lessons
                using Adobe AfterEffects and LottieFiles, ensuring smooth and
                engaging motion graphics.
              </li>
              <li>
                Enhanced and refined vocabulary visuals through digital
                touch-ups and automated processes using ExtendScript in
                Illustrator, ensuring normalized index color palettes for
                consistent and engaging designs. Illustrated vibrant and
                interactive grammar examples to enrich the learning experience.
              </li>

              <li>
                Designed collectible items and rewards for the collection
                market, enhancing the gamified elements of the app.
              </li>
              <li>
                Ensured that all assets were optimized for fast loading and
                minimal performance impact.
              </li>
            </ul>
          </div> -->
        </div>
      </div>
    </div>
  </section>
  <section id="techstack-and-apparchitecture">
    <div class="techstack-and-apparchitecture-wrapper">
      <div class="techstack-cards-wrapper">
        <h2>Tech Stack</h2>
        <div class="techstack-cards-list">
          <li class="card">
            <h2>Flutter</h2>
            Built the app using Flutter for its cross-platform capabilities,
            ensuring compatibility with both iOS and Android.
          </li>
          <li class="card">
            <h2>Isar</h2>
            Implemented Isar, a high-performance local database, for efficient
            and offline-friendly data storage.
          </li>
          <li class="card">
            <h2>LottieFiles</h2>
            Created LottieFiles to deliver lightweight, high-quality animations
            that enhance the user experience without significant performance
            overhead.
          </li>
        </div>
      </div>
      <div class="app-architecture">
        <h2>App Architecture</h2>
        <p>
          The objective of this app is to provide a user-friendly language
          learning platform for English-speaking Cambodian (Khmer) and
          Cambodian-speaking English language learners. The app provides a
          simple and efficient way for users to learn and practice both
          languages, featuring interactive lessons, quizzes, and
          vocabulary-building tools. Thoroughly researched during my time living
          in Cambodia, it is specifically designed to address the challenges of
          offering language literacy to a targeted Cambodian audience with
          limited formal education. As a result, the app will be free to use,
          fully functional offline, and include a wealth of audio content to
          enhance the learning experience for users of all levels.
        </p>
      </div>
    </div>
  </section>
  <section id="intro">
    <div class="intro-text">
      <span class="project-subtitle">PANYAVON</span>
      <div class="project-title">
        <div>
          <span class="title study">Study Tab</span>
          <p>
            The Study Tab provides a focused and interactive environment to
            enhance language skills, blending structured learning with engaging
            activities for effective skill development.
          </p>
        </div>
      </div>
    </div>
    <div class="intro-visual">

      <iframe width="300" height="614" src="https://www.youtube.com/embed/oNs-AEUlOGI"
        title="Seoulmate - Low-Fidelity Prototype" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy"></iframe>
    </div>
  </section>
  <section id="study">
    <div class="two-one-wrapper">
      <div class="two-one-description-wrapper">
        <div class="two-one-description">
          <h2>Phonics</h2>
          <p>
            Users can master the sounds of Khmer and English through interactive
            exercises focused on the alphabet, consonant clusters, and other
            phonetic patterns (such as digraphs like "â€“ight" or "fix" and
            "sup"). This section emphasizes pronunciation by providing guided
            practice with video content from native Khmer and English speakers
            articulating phonemes, offering continuous reference and practice
            opportunities.
          </p>
          <div class="video-sample">
            <iframe width="250" height="512" src="https://www.youtube.com/embed/se5zsKjVbmg"
              title="Panyavon - Phonics Practice" frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy"></iframe>
          </div>
        </div>
      </div>
      <div class="two-one-content">
        <h1>CODE SAMPLES</h1>


        <h1>Custom Alphabet Block UI Components</h1>
        <pre><code class="language-dart">
import 'package:flutter/material.dart';

// Define an enum for AlphabetLanguage
enum AlphabetLanguage { eng, khm }

class AlphabetBlock extends StatelessWidget {
  final AlphabetLanguage language;
  final String letter;
  final String? letterFoot;

  const AlphabetBlock({
    super.key,
    required this.language,
    required this.letter,
    this.letterFoot,
  });

  @override
  Widget build(BuildContext context) {
    return LayoutBuilder(
      builder: (BuildContext context, BoxConstraints constraints) {
        double alphabetBlockWidth = constraints.maxWidth * 0.9;
        double alphabetBlockHeight = constraints.maxHeight * 0.85;
        AlignmentGeometry alignment = const AlignmentDirectional(-1.0, -1.0);

        return Container(
          margin: const EdgeInsets.symmetric(vertical: 8.0),
          width: double.infinity,
          child: StatefulBuilder(
            builder: (BuildContext context, StateSetter setState) {
              void handlePress() {
                setState(() {
                  if (alignment == const AlignmentDirectional(-1.0, -1.0)) {
                    alignment = const AlignmentDirectional(1.0, 1.0);
                  } else {
                    alignment = const AlignmentDirectional(-1.0, -1.0);
                  }
                });
              }

              return InkWell(
                onTap: handlePress,
                child: Stack(
                  children: [
                    Align(
                      alignment: const AlignmentDirectional(1.0, 1.0),
                      child: Ink(
                        height: alphabetBlockHeight,
                        width: alphabetBlockWidth,
                        decoration: BoxDecoration(
                          color: const Color(0xFF899EA3),
                          borderRadius: BorderRadius.circular(16),
                        ),
                      ),
                    ),
                    Align(
                      alignment: alignment,
                      child: Ink(
                        height: alphabetBlockHeight,
                        width: alphabetBlockWidth,
                        decoration: BoxDecoration(
                          color: const Color(0xFFDBF3F9),
                          borderRadius: BorderRadius.circular(16),
                          border: Border.all(
                              color: Color(0xFF899EA3), width: 4),
                        ),
                        child: Column(
                          mainAxisAlignment: MainAxisAlignment.center,
                          crossAxisAlignment: CrossAxisAlignment.center,
                          children: &lt;Widget&gt;[
                            Text(
                              letter,
                              style: const TextStyle(
                                color: Color.fromARGB(255, 83, 83, 81),
                                fontSize: 36,
                                fontFamily: 'EB Garamond',
                                fontWeight: FontWeight.bold,
                              ),
                            ),
                            Icon(
                              Icons.volume_up,
                              size: 30, // Set the size of the icon
                              color: Color.fromARGB(255, 83, 83, 81),
                            ),
                          ],
                        ),
                      ),
                    ),
                  ],
                ),
              );
            },
          ),
        );
      },
    );
  }
}
</code></pre>


      </div>
    </div>
  </section>
  <section id="study">
    <div class="two-one-wrapper">
      <div class="two-one-description-wrapper">
        <div class="two-one-description">
          <h2>Vocabulary Practice</h2>
          <p>
            Enhance vocabulary with themed lessons that introduce common words
            and phrases. Users can practice both recognition and usage through
            an intuitive flashcard system, where they swipe left for challenging
            words and right for easier ones. Each card includes an image,
            synonyms, an example sentence, the relevant part of speech, and a QR
            code for additional information.
          </p>
          <div class="video-sample">
            <iframe width="250" height="512" src="https://www.youtube.com/embed/gmsh9o3Bz-M"
              title="Seoulmate - Low-Fidelity Prototype" frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy"></iframe>
          </div>
        </div>
      </div>
      <div class="two-one-content">
        <h1>CODE SAMPLES</h1>
        <h1>Flashcard Flip Animation</h1>
        <pre><code class="language-dart">
import 'package:flutter/material.dart';
import 'package:lottie/lottie.dart';
import 'package:dotlottie_loader/dotlottie_loader.dart';

class Flashcard extends StatefulWidget {
  final String english_term;
  final String khmerization;
  final List&lt;dynamic&gt; english_synonyms;
  final String english_example;
  final String khmer_term;
  final String romanization;
  final List&lt;dynamic&gt; khmer_synonyms;
  final String khmer_example;
  final bool isFlipped;

  const Flashcard({
    super.key,
    required this.english_term,
    required this.khmerization,
    required this.english_synonyms,
    required this.english_example,
    required this.khmer_term,
    required this.romanization,
    required this.khmer_synonyms,
    required this.khmer_example,
    required this.isFlipped,
  });

  @override
  _FlashcardState createState() => _FlashcardState();
}

class _FlashcardState extends State&lt;Flashcard&gt; with SingleTickerProviderStateMixin {
  late AnimationController _controller;
  late Animation&lt;double&gt; _animation;
  bool isFlipped = false;

  @override
  void initState() {
    super.initState();
    _controller = AnimationController(duration: const Duration(milliseconds: 400), vsync: this);
    _animation = Tween&lt;double&gt;(begin: 0.0, end: 1.0).animate(_controller);
  }

  void _flipCard() {
    if (isFlipped) {
      _controller.reverse();
    } else {
      _controller.forward();
    }

    setState(() {
      isFlipped = !isFlipped;
    });
  }

  @override
  void dispose() {
    _controller.dispose();
    super.dispose();
  }

  @override
  Widget build(BuildContext context) {
    return GestureDetector(
      onTap: _flipCard,
      child: AnimatedBuilder(
          animation: _animation,
          builder: (context, child) {
            final angle = _animation.value * 3.1416;
            final isFrontVisible = angle &lt;= 3.1416 / 2 || angle &gt;= 3.1416 * 1.5;

            return Transform(
              alignment: Alignment.center,
              transform: Matrix4.rotationY(angle),
              child: isFrontVisible
                  ? _buildCard(widget.english_term, widget.khmerization,
                      widget.english_synonyms, widget.english_example, true)
                  : Transform(
                      alignment: Alignment.center,
                      transform: Matrix4.rotationY(3.1416),
                      child: _buildCard(widget.khmer_term, widget.romanization,
                          widget.khmer_synonyms, widget.khmer_example, false),
                    ),
            );
          }),
    );
  }
}
</code></pre>



      </div>
    </div>
  </section>
  <section id="study">
    <div class="two-one-wrapper">
      <div class="two-one-description-wrapper">
        <div class="two-one-description">
          <h2>Grammar Lessons</h2>
          <p>
            Users can dive into the grammar rules of both languages, exploring
            sentence structure, verb conjugation, and more. Reinforce conceptual
            understanding through interactive games, flashcards with
            speech-to-text functionality, quizzes, and typing practice. Each
            game features vibrant, engaging visuals that enhance the learning
            experience.
          </p>
          <div class="video-sample">
            <iframe width="250" height="512" src="https://www.youtube.com/embed/i7Q4dEAswTk
" title="Seoulmate - Low-Fidelity Prototype" frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy"></iframe>
          </div>
        </div>
      </div>
      <div class="two-one-content">
        <h1>Code Samples</h1>
        <h1>Scroll Controller</h1>
        <pre><code class="language-dart">
class _LessonsTemplatePageState extends State&lt;LessonsTemplatePage&gt; {
  int currentPageIndex = 0;
  final ScrollController _scrollController = ScrollController();
  bool isBottomNavVisible = false;

  late Map&lt;String, dynamic&gt; _lessonData = {};

  @override
  void initState() {
    super.initState();
    _loadLessonData();
    _scrollController.addListener(() {
      if (_scrollController.position.pixels &gt;=
          _scrollController.position.maxScrollExtent) {
        setState(() {
          isBottomNavVisible = true;
        });
      } else {
        setState(() {
          isBottomNavVisible = false;
        });
      }
    });
  }

  Future&lt;void&gt; _loadLessonData() async {
    String lessonJSON =
        await rootBundle.loadString('data/grammar/${widget.lessonFile}');
    setState(() {
      _lessonData = json.decode(lessonJSON);
    });
  }

  @override
  void dispose() {
    _scrollController.dispose();
    super.dispose();
  }
}
</code></pre>


      </div>
    </div>
  </section>
  <section id="intro">
    <div class="intro-text">
      <span class="project-subtitle">PANYAVON</span>
      <div class="project-title">
        <div>
          <span class="title games">Games Tab</span>
          <p>
            The Games Tab offers an enjoyable and interactive way to apply
            language skills in a fun, engaging format, combining play with
            learning.
          </p>
        </div>
      </div>
    </div>
    <div class="intro-visual">
      <iframe width="300" height="614" src="https://www.youtube.com/embed/pOOrSV_A-Lc"
        title="Seoulmate - Low-Fidelity Prototype" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy"></iframe>
    </div>
  </section>
  <section id="games">
    <div class="two-one-wrapper">
      <div class="two-one-description-wrapper">
        <div class="two-one-description">
          <h2>OM TOUK TYPING RACE: Typing Practice Game</h2>
          <p>
            A typing challenge designed to improve spelling, speed, and
            accuracy. This game reinforces vocabulary and sentence structure,
            with visual feedback and progressively harder levels as the user
            advances. The game concept is inspired by Bon Om Touk, a traditional
            Cambodian water festival, capturing the spirit of friendly
            competition and skill development.
          </p>

          <div
            style="width: 229px; height: 469px; background-color: #f0f0f0; display: flex; justify-self: center; justify-content: center; align-items: center; font-size: 24px; font-weight: bold; color: #333;">
            Coming Soon
          </div>
        </div>
      </div>
      <div class="two-one-content">
        <h1>CODE SAMPLES</h1>
        <h1>Fetching and Displaying Typed Words</h1>
        <pre><code class="language-dart">
Future&lt;List&lt;String&gt;&gt; _fetchWords() async {
  final userRank = widget.userRank;
  final wordsData =
      await rootBundle.loadString('/path/to/your/typing/$userRank/general1.json');
  final wordsJSON = json.decode(wordsData)['words'] as List&lt;dynamic&gt;;
  final words = wordsJSON.map((word) =&gt; word as String).toList();
  final randomIndex = Random().nextInt(words.length);
  return words;
}
</code></pre>

        <h1>Timer Implementation</h1>
        <pre><code class="language-dart">
void _startTimer() {
  _timer = Timer.periodic(const Duration(seconds: 1), (timer) {
    setState(() {
      _timeLeft--;
    });

    if (_timeLeft == 0) {
      _timer?&gt;cancel();
      _showGameOverDialog();
    }
  });
}

void _startBoatPositionTimer() {
  if (_boatPositionTimer == null || !_boatPositionTimer!&lt;isActive) {
    _boatPositionTimer = Timer.periodic(const Duration(seconds: 4), (_) {
      _updateBoatPositions();
    });
  }
}
</code></pre>

      </div>
    </div>
  </section>
  <section id="games">
    <div class="two-one-wrapper">
      <div class="two-one-description-wrapper">
        <div class="two-one-description">
          <h3>SBEK THOM SCHOLAR: Interactive Quiz Game</h3>
          <p>
            This quiz game tests users' knowledge of vocabulary, grammar, and
            reading comprehension. The concept draws inspiration from Sbek Por,
            traditional Cambodian shadow puppetry, transforming the learning
            process into a puzzle-like challenge that engages users through
            storytelling and problem-solving.
          </p>

          <div class="video-sample">
            <iframe width="229" height="469" src="https://www.youtube.com/embed/Ryy1JSoBA_Y
" title="Seoulmate - Low-Fidelity Prototype" frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy"></iframe>
          </div>
        </div>
      </div>
      <div class="two-one-content">
        <h1>CODE SAMPLES</h1>
        <h1>Fetching Quiz Data from JSONs</h1>
        <pre><code class="language-dart">
Future&lt;List&lt;Map&lt;String, dynamic&gt;&gt;&gt; _fetchQuiz() async {
  final user = (await widget.isar.users.where().findAll()).first;
  final userRank = user.rank;

  final quizType = &#39;${widget.quizType.toLowerCase()}.json&#39;;
  final quizData =
      await rootBundle.loadString(&#39;data/quizzes/beginner/$quizType&#39;);
  final quizzes = json.decode(quizData)[&#39;quizzes&#39;] as List&lt;dynamic&gt;;

  final randomIndex = Random().nextInt(quizzes.length);
  final selectedQuestions =
      quizzes[randomIndex][&#39;questions&#39;] as List&lt;dynamic&gt;;

  _totalQuestions = selectedQuestions.length;

  return selectedQuestions.map((item) {
    final questionMap = item as Map&lt;String, dynamic&gt;;
    final answersList = (questionMap[&#39;answers&#39;] as List&lt;dynamic&gt;)
        .map((answerItem) =&gt; answerItem as Map&lt;String, dynamic&gt;)
        .toList();

    return {
      &#39;question&#39;: questionMap[&#39;question&#39;],
      &#39;answers&#39;: answersList,
    };
  }).toList();
}
</code></pre>


        <h1>User Answer Selection Handling</h1>
        <pre><code class="language-dart">
void _selectedAnswer(int index, bool isCorrect) {
  setState(() {
    if (_selectedAnswerIndex == index) {
      _selectedAnswerIndex = null;
      _showNextButton = false;
    } else {
      _selectedAnswerIndex = index;
      _showNextButton = true;

      if (isCorrect) {
        _correctAnswers++;
      }
    }
  });
}
</code></pre>

        <h1>Moving to the Next Question</h1>
        <pre><code class="language-dart">
void _nextQuestion(List&lt;dynamic&gt; questions) {
  setState(() {
    if (_currentIndex &lt; questions.length - 1) {
      _currentIndex++;
      _selectedAnswerIndex = null;
      _showNextButton = false;
    } else {
      _quizFinished = true;
    }
  });
}
</code></pre>

        <h1>Applying and Saving the Quiz Score</h1>
        <pre><code class="language-dart">
Future&lt;void&gt; _applyScore(double grammarScore, double grammarSpeed,
    double grammarDifficulty) async {
  final quizSessions =
      await widget.isar.grammarGameSessions.where().findAll();
  final quizSession =
      quizSessions.isEmpty ? GrammarGameSession() : quizSessions.first;

  quizSession.grammarScore = grammarScore;
  quizSession.addScore(grammarScore);

  await widget.isar.writeTxn(() async {
    await widget.isar.grammarGameSessions.put(quizSession);
  });
}
</code></pre>

        <h1>UI Building</h1>
        <pre><code class="language-dart">
@override
Widget build(BuildContext context) {
  return Consumer&lt;GrammarGameSession&gt;(
    builder: (context, grammarGameSession, child) {
      return FutureBuilder&lt;List&lt;Map&lt;String, dynamic&gt;&gt;&gt;(
        future: _quizFuture,
        builder: (context, snapshot) {
          if (snapshot.connectionState == ConnectionState.waiting) {
            return const Center(child: CircularProgressIndicator());
          } else if (snapshot.hasError) {
            return Center(child: Text('Error: ${snapshot.error}'));
          } else if (!snapshot.hasData || snapshot.data!.isEmpty) {
            return const Center(child: Text('No quizzes available.'));
          }

          final questions = snapshot.data!;

          if (_quizFinished) {
            final double finalScore = (_totalQuestions &gt; 0)
                ? (_correctAnswers / _totalQuestions) * 100
                : 0;

            const finalSpeed = 5.0;
            const grammarDifficulty = 5.0;

            _applyScore(finalScore, finalSpeed, grammarDifficulty);
            return Center(
              child: Column(
                mainAxisAlignment: MainAxisAlignment.center,
                children: [
                  const Text(
                    'Quiz Finished!',
                    style: TextStyle(fontSize: 24, fontWeight: FontWeight.bold),
                  ),
                  Text(
                    'Your score: ${finalScore.toStringAsFixed(2)}%',
                    style: const TextStyle(fontSize: 20),
                  ),
                  Text(
                    'Your speed: ${finalSpeed.toStringAsFixed(2)}%',
                    style: const TextStyle(fontSize: 20),
                  ),
                  Text(
                    'Your rank: ${grammarDifficulty.toStringAsFixed(2)}%',
                    style: const TextStyle(fontSize: 20),
                  ),
                  const SizedBox(height: 20),
                  Button(
                    buttonColor: ButtonColor.red,
                    buttonType: ButtonType.largeAction,
                    buttonText: "Back to Game Menu",
                    buttonTextSize: 20.0,
                    buttonMode: ButtonMode.light,
                    onTap: () {
                      Navigator.of(context).pop();
                    },
                  ),
                ],
              ),
            );
          }

          final question = questions[_currentIndex]['question'].toString();
          final answers = questions[_currentIndex]['answers']
              as List&lt;Map&lt;String, dynamic&gt;&gt;;

          return Expanded(
            child: SingleChildScrollView(
              child: Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: &lt;Widget&gt;[
                  Padding(
                    padding: const EdgeInsets.only(left: 16.0),
                    child: Text(
                      'Question 1',
                      style: TextStyle(
                          fontFamily: 'League Spartan',
                          fontSize: 18.0,
                          fontWeight: FontWeight.bold),
                    ),
                  ),
                  Container(
                    padding: const EdgeInsets.fromLTRB(16.0, 0.0, 16.0, 16.0),
                    child: Text(
                      question,
                      style: const TextStyle(fontSize: 20.0),
                    ),
                  ),
                  Column(
                    children: answers.asMap().entries.map((entry) {
                      int index = entry.key;
                      Map&lt;String, dynamic&gt; answer = entry.value;
                      bool isCorrect = answer['isCorrect'] == true;
                      final answerText = answer['answer'].toString();

                      return Button(
                        buttonColor: ButtonColor.white,
                        buttonType: ButtonType.quizAnswer,
                        buttonText: answerText,
                        buttonMode: ButtonMode.dark,
                        buttonTextSize: 18.0,
                        onTap: () {
                          _selectedAnswer(index, isCorrect);
                        },
                      );
                    }).toList(),
                  ),
                  if (_showNextButton)
                    Button(
                      buttonColor: ButtonColor.blue,
                      buttonType: ButtonType.largeAction,
                      buttonText: "Next Question",
                      buttonTextSize: 20.0,
                      buttonMode: ButtonMode.light,
                      onTap: () => _nextQuestion(questions),
                    ),
                ],
              ),
            ),
          );
        },
      );
    },
  );
}
</code></pre>

      </div>
    </div>
  </section>
  <section id="games">
    <div class="two-one-wrapper">
      <div class="two-one-description-wrapper">
        <div class="two-one-description">
          <h3>FLASHCARD FIGHT: Vocabulary Speaking Practice</h3>
          <p>
            Users practice their listening and speaking skills by matching
            flashcards with correct pronunciation. The game uses interactive
            voice recognition with speech-to-text technology and provides clear
            visual cues to enhance learning. The concept is based on Kun Khmer,
            traditional Cambodian kickboxing, where precision and rhythm are
            key, paralleling the learning of language nuances.
          </p>

          <div class="video-sample">
            <iframe width="229" height="469" src="https://www.youtube.com/embed/PfW5UoOQ1Do
" title="Seoulmate - Low-Fidelity Prototype" frameborder="0"
              allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
              referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy"></iframe>
          </div>
        </div>
      </div>
      <div class="two-one-content">
        <h1>CODE SAMPLES</h1>
        <h1>State Management</h1>
        <pre><code class="language-dart">
  
class _GamesFlashcardsPageState extends State&lt;GamesFlashcardsPage&gt; {
  List&lt;dynamic&gt; _flashcards = [];
  String _flashcardCategory = &#39;&amp;&#39;;
  String _currentFlashcardTermEng = &#34;&#34;;
  String _currentFlashcardKhmerization = &#34;&#34;;
  String _currentFlashcardTermKhm = &#34;&#34;;
  String _currentFlashcardRomanization = &#34;&#34;;

  int _currentIndex = 0;
  bool _isFlipped = false;
  int _gamePoints = 0;
  double _playerHealth = 0.0;

  final SpeechToText _speechToText = SpeechToText();
  bool _speechEnabled = false;
  final bool _onDevice = true;
  String lastWords = &#34;&#34;;
  double _confidenceValue = 0.0;

  @override
  void initState() {
    super.initState();
    _initSpeech();
    _getFlashcardCategories().then((_) {
      _getFlashcards();
    });
  }

  @override
  void didChangeDependencies() {
    super.didChangeDependencies();
    _playerHealth = (MediaQuery.of(context).size.width - 32) / 2.5;
  }
}


</code></pre>


        <h1>Speech-To-Text Integration</h1>
        <pre><code class="language-dart">
void _initSpeech() async {
  bool speechEnabled = await _speechToText.initialize();
  setState(() {
    _speechEnabled = speechEnabled;
  });
}

void _startListening() async {
  final options = SpeechListenOptions(
      onDevice: _onDevice,
      listenMode: ListenMode.dictation,
      partialResults: true,
      autoPunctuation: true,
      enableHapticFeedback: true);

  if (_speechEnabled) {
    await _speechToText.listen(
      onResult: resultListener,
      listenFor: const Duration(seconds: 3),
      pauseFor: const Duration(seconds: 3),
      listenOptions: options,
    );
  } else {
    ScaffoldMessenger.of(context).showSnackBar(
      const SnackBar(content: Text(&#39;Speech recognition not initialized&#39;)),
    );
  }
  setState(() {});
}

void resultListener(SpeechRecognitionResult result) {
  setState(() {
    final words = result.recognizedWords.split(&#39; &#39;);
    lastWords = &#39;${words.last} - ${result.finalResult}&#39;;
    print(
        &#34;recognizedWords: ${result.recognizedWords} finalResult: ${result.finalResult}&#34;);
    _confidenceValue = result.confidence;
    _checkAnswer();
  });
}
</code></pre>

        <h1>Game Logic</h1>
        <pre><code class="language-dart">
void _checkAnswer() {
  if (lastWords.trim().toLowerCase() ==
      "${_currentFlashcardTermEng.trim().toLowerCase()} - false") {
    _gamePoints++;
    _playerHealth =
        (_playerHealth - _gamePoints * 10).clamp(0.0, _playerHealth);
    _nextFlashcard();
  } else {
    _startListening();
  }
}

void _nextFlashcard() {
  setState(() {
    _currentIndex = (_currentIndex + 1) % _flashcards.length;
    print(_currentIndex);
    _currentFlashcardTermEng = _flashcards[_currentIndex][&#39;english_word&#39;];
    _currentFlashcardTermKhm = _flashcards[_currentIndex][&#39;khmer_word&#39;];
    _isFlipped = false;
    lastWords = &#34;&#34;;
  });
}
</code></pre>

        <h1>Data Management</h1>
        <pre><code class="language-dart">
Future&lt;String&gt; _getFlashcardCategories() async {
  final String categoriesResponse = await rootBundle
      .loadString(&#39;data/vocabulary/vocabulary_categories.json&#39;);
  final Map&lt;String, dynamic&gt; categoriesData = json.decode(categoriesResponse);
  final List&lt;dynamic&gt; vocabCategories =
      categoriesData[&#34;vocabulary_categories&#34;];
  final randomIndex = Random().nextInt(vocabCategories.length);
  final selectedCategory = vocabCategories[randomIndex].toString();

  setState(() {
    _flashcardCategory = selectedCategory;
  });

  return _flashcardCategory;
}

Future&lt;List&lt;dynamic&gt;&gt; _getFlashcards() async {
  final String flashcardsResponse =
      await rootBundle.loadString(&#39;data/vocabulary/$_flashcardCategory.json&#39;);
  final List&lt;dynamic&gt; flashcards = json.decode(flashcardsResponse);

  setState(() {
    _flashcards = flashcards;
    if (_flashcards.isNotEmpty) {
      _currentFlashcardTermEng = _flashcards[_currentIndex][&#39;english_word&#39;];
      _currentFlashcardKhmerization =
          _flashcards[_currentIndex][&#39;khmerization&#39;];
      _currentFlashcardTermKhm = _flashcards[_currentIndex][&#39;khmer_word&#39;];
      _currentFlashcardRomanization =
          _flashcards[_currentIndex][&#39;romanization&#39;];
    }
  });

  return flashcards;
}
</code></pre>

        <h1>Healthbar Implementation</h1>
        <pre><code class="language-dart">
class HealthBar extends StatelessWidget {
  final double playerHealth;
  final double opponentHealth;
  final int gamePoints;

  const HealthBar({
    Key? key,
    required this.playerHealth,
    required this.opponentHealth,
    required this.gamePoints,
  }) : super(key: key);

  @override
  Widget build(BuildContext context) {
    return SizedBox(
      width: double.infinity,
      child: Row(
        mainAxisAlignment:
            MainAxisAlignment.spaceBetween, 
        children: [
          Row(
            children: [
              Container(
                height: 50.0,
                width: 36.0,
                margin: EdgeInsets.only(right: 2.0),
                decoration: BoxDecoration(
                  border: Border.all(
                    width: 2.0,
                    color: Colors.white,
                  ),
                ),
              ),
              Column(
                crossAxisAlignment: CrossAxisAlignment.start,
                children: [
                  Container(
                    decoration: BoxDecoration(
                      boxShadow: [
                        BoxShadow(
                          color: Colors.black
                              .withOpacity(0.5),
                          blurRadius: 1.0,
                          offset: Offset(2, 2),
                        ),
                      ],
                      border: Border.all(
                        width: 2.0,
                        color: Color(0xFF15e1cc),
                      ),
                    ),
                    child: Row(
                      children: List.generate(5, (index) {
                        return Container(
                          height: 14.0,
                          width: 22.0,
                          margin: EdgeInsets.symmetric(
                              vertical: 1.0, horizontal: 1.0),
                          color: Color(0xFF15e1cc),
                        );
                      }),
                    ),
                  ),
                  SizedBox(height: 4.0),
                  RichText(
                    text: TextSpan(
                      text: &#39;PLAYER&#39;,
                      style: const TextStyle(
                        fontFamily: &#39;Leaguespartan&#39;,
                        fontSize: 20,
                        fontWeight: FontWeight.bold,
                        fontStyle: FontStyle.italic,
                        color: Colors.white,
                        shadows: [
                          Shadow(
                            offset: Offset(2.0, 2.0),
                            color: Colors.black,
                            blurRadius: 0,
                          ),
                        ],
                      ),
                    ),
                  ),
                ],
              ),
            ],
          ),
        ],
      ),
    );
  }
}
</code></pre>

      </div>
    </div>
  </section>
  <section id="intro">
    <div class="intro-text">
      <span class="project-subtitle">PANYAVON</span>
      <div class="project-title">
        <div>
          <span class="title progress">Progress Tab</span>
          <p>
            The Progress Page allows users to track their learning journey and
            monitor their continuous improvement over time. Users can explore
            their progress through a detailed breakdown of skill levels, ranging
            from Beginner to Native, across key areas such as speaking, typing,
            vocabulary, listening, and grammar. Each skill section provides
            insights into individual progress, highlighting strengths and areas
            for growth. Visual graphs and progress bars offer a clear view of
            milestones, helping users stay motivated and focused on their
            language-learning goals.
          </p>
        </div>
      </div>
    </div>
    <div class="intro-visual">
      <iframe width="300" height="614" src="https://www.youtube.com/embed/-KgbfX0q8UE"
        title="Seoulmate - Low-Fidelity Prototype" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy"></iframe>
    </div>
  </section>
  <section id="intro">
    <div class="intro-text">
      <span class="project-subtitle">PANYAVON</span>
      <div class="project-title">
        <div>
          <span class="title market">Market Tab</span>
          <p>
            The Collection Market allows users to purchase virtual items that
            enrich their cultural learning experience, bringing the history and
            traditions of Cambodia to life. Users can unlock cultural artifacts
            using in-app points earned by completing lessons. This page is
            designed with vibrant, child-friendly visuals that also carry deep
            cultural significance, offering a meaningful way to connect with
            Cambodia's rich history and heritage.
          </p>
        </div>
      </div>
    </div>
    <div class="intro-visual">
      <iframe width="300" height="614" src="https://www.youtube.com/embed/rMqS9FLTWW8

" title="Seoulmate - Low-Fidelity Prototype" frameborder="0"
        allow="accelerometer; autoplay; clipboard-write; encrypted-media; gyroscope; picture-in-picture; web-share"
        referrerpolicy="strict-origin-when-cross-origin" allowfullscreen loading="lazy"></iframe>
    </div>
  </section>
  <section id="intro">
    <div class="intro-text">
      <span class="project-subtitle">PANYAVON</span>
      <div class="project-title">
        <div>
          <span class="title user">User Tab</span>
          <p>
            The User Page allows learners to manage their settings and
            personalize their app experience to suit their preferences. In this
            section, users can adjust language preferences, manage
            notifications, and update their account information. Additionally,
            users have the option to change the app's appearance, allowing them
            to choose from different visual themes to further personalize their
            experience.
          </p>
        </div>
      </div>
    </div>
    <div class="intro-visual">
      <div
        style="width: 250px; height: 512px; background-color: #f0f0f0; display: flex; justify-content: center; align-items: center; font-size: 24px; font-weight: bold; color: #333;">
        Coming Soon
      </div>

    </div>
  </section>
</template>

<script>
import { DotLottieVue } from "@lottiefiles/dotlottie-vue";

export default {
  components: {
    DotLottieVue,
  },
};
</script>

<style>
.nuxt-image-wrapper {
  width: 100%;
  height: auto;
  object-fit: contain;
  padding-bottom: 32px;
}

.nuxt-image {
  display: flex;
  width: 100%;
  height: 100%;
}

section {
  min-height: 100vh;
  padding: 0px 32px;
}

pre {
  white-space: pre-wrap;
  word-wrap: break-word;
  overflow-wrap: break-word;
  max-width: 100%;
}

/* intro */
#intro {
  display: flex;
  flex-direction: row;
  height: 100vh;
}

.intro-text {
  display: flex;
  flex-direction: column;
  flex: 2;
  padding: 32px;
}

.intro-visual {
  display: flex;
  flex: 1;
  justify-content: center;
  align-items: center;
}

.project-title {
  display: flex;
  flex-direction: column;
  height: 100%;
  justify-content: center;
}

.title {
  font-weight: bold;
  font-size: 128px;
  background-image: linear-gradient(to bottom, #fffecb, #ffd600);
  -webkit-background-clip: text;
  color: transparent;
}

.title.study {
  background-image: linear-gradient(to bottom, #00a94c, #005700);
}

.title.games {
  background-image: linear-gradient(to bottom, #ff7283, #d91e35);
}

.title.progress {
  background-image: linear-gradient(to bottom, #75ffff, #00297c);
}

.title.market {
  background-image: linear-gradient(to bottom, #ff8c00, #d83307);
}

.title.user {
  background-image: linear-gradient(to bottom, #dbf3f9, #4b585b);
}

.project-subtitle {
  font-size: 24px;
  font-weight: bold;
  color: rgb(197, 197, 197);
}

/* key features and functionality */
.card-wrapper {
  display: flex;
  flex-direction: column;
  flex: 2;
  height: calc(100vh - 32px);
  padding-left: 32px;
}

.cards-grid {
  display: grid;
  width: 100%;
  height: 100%;
  grid-template-columns: auto auto auto;
  grid-template-rows: auto auto;
  gap: 16px;
}

.card {
  display: flex;
  flex-direction: column;
  border: 1px solid lightgreen;
  padding: 16px 12px;
}

.card h2 {
  color: #2a9d8f;
  text-align: left;
  font-size: 18px;
  margin-top: 0px;
}

.card li {
  line-height: 1.2;
}

.description-wrapper {
  display: flex;
  flex-direction: row;
  justify-content: center;
  align-items: center;
}

.description {
  display: flex;
  flex-direction: column;
  flex: 1;
}

/*tech stack and app architecture*/
.techstack-and-apparchitecture-wrapper {
  display: flex;
  flex-direction: row;
  height: 100vh;
}

.techstack-cards-wrapper {
  display: flex;
  flex-direction: column;
  flex: 1;
  margin-right: 12px;
}

.techstack-cards-wrapper .card {
  margin-bottom: 16px;
}

.app-architecture {
  display: flex;
  flex-direction: column;
  flex: 2;
  padding: 0px 32px;
}

/* study */
.video-sample {
  padding: 8px 0px;

  width: 100%;
  text-align: center;
}

iframe {
  border-radius: 36px;
  overflow: hidden;
}


/* two-one flex preset */
.two-one-wrapper {
  display: flex;
  flex-direction: row;
  min-height: 100vh;
  width: 100%;
  justify-items: center;
}

.two-one-content {
  display: flex;
  flex-direction: column;
  flex: 1;
  height: 100%;
  padding: 16px 0px;
}

.two-one-description-wrapper {
  display: flex;
  flex-direction: column;
  flex: 1;
  padding-right: 32px;
  position: sticky;
  top: 0;
  height: 100vh;
  justify-content: center;
}

/* one-two flex preset */
.one-two-wrapper {
  display: flex;
  flex-direction: row;
  min-height: 100vh;
  width: 100%;
}

.one-two-content {
  display: flex;
  flex-direction: column;
  flex: 1;
  height: 100%;
}

.one-two-description-wrapper {
  display: flex;
  flex-direction: column;
  flex: 2;
  padding-right: 32px;
  position: sticky;
  top: 0;
  height: 100%;
}

/* wireframe section */
.wireframe-grid {
  display: grid;
  grid-template-columns: 1fr 1fr;
  grid-template-rows: 1fr 1fr 1fr 1fr;
  gap: 16px;
}

@media screen and (max-width: 1366px) {
  section {
    padding: 0px 12px;
  }

  /* intro section */
  #intro {
    flex-direction: column;
    height: max-content;
    padding: 16px 12px;
  }

  .intro-text {
    padding: 0px 0px;
  }

  .title {
    display: flex;
    font-size: 64px;
    margin-top: 48px;
  }

  /* goal section */
  #goal {
    padding: 16px 12px;
  }

  .description-wrapper {
    display: flex;
    flex-direction: column;

  }

  .card-wrapper {
    padding: 0px 0px;
  }

  .cards-grid {
    grid-template-columns: 1fr;
    grid-template-rows: auto;
  }

  /* tech stack and app architecture */
  #techstack-and-apparchitecture, #study, #games {
    padding: 0px 12px;
  }

  .techstack-and-apparchitecture-wrapper {
    flex-direction: column;
    height: max-content;
  }





  .app-architecture {
    padding: 0px 0px;
  }

  /* scrolling code sections */
  .two-one-wrapper {
    flex-direction: column;
  }

  .two-one-description-wrapper {
    height: max-content;
    position: relative;
    padding-right: 0px;
  }

  .two-one-content pre {
    width: 100%;

  }
}
</style>
